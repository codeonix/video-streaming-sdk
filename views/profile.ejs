<!DOCTYPE html>
<html>
<head>
  <title>User Profile</title>
</head>
<body>
  <h1>User Profile</h1>
  <p>Welcome, <%= user.username %>!</p>
  <p>Email: <%= user.email %></p>
  <a href="/users/logout">Logout</a>
  <h2>All Users</h2>
  <ul>
    <% users.forEach(user => { %>
      <li><%= user.username %> (<%= user.email %>)</li>
    <% }) %>
  </ul>
  <h2>Online Users</h2>
  <ul>
    <% onlineUsers.forEach(user => { %>
      <li><%= user.username %> (<%= user.email %>)</li>
    <% }) %>
  </ul>
  <% if (selectedUser) { %>
    <h2>Selected User: <%= selectedUser.username %></h2>
    <button onclick="makeVideoCall('<%= selectedUser._id %>')">Make Video Call</button>
  <% } %>
  <script>
    function makeVideoCall(userId) {
      // Handle video call logic here
      // Use userId to initiate the video call
    }
  </script>
</body>
</html>
